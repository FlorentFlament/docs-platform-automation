---
title: Using Ops Blocks
owner: PCF Norm
---

This topic describes when and how to use Ops Blocks, and provides an example pipeline that uses Ops Blocks commands.

##<a id='after-first'></a> Ops Manager, Then Ops Blocks

<table id='TK-NAME' border="1" class="nice" >
  <tr>
    <th></th>
    <th>Ops Manager</th>
    <th>Ops Blocks</th>
  </tr><tr>
    <th>When</th>
    <td>First install and minor upgrades</td>
    <td>Config changes and patch upgrades</td>
  </tr><tr>
    <th style="color:blue">1. Create Ops Manager VM</th>
    <td style="color:blue">Manually prepare IaaS and create Ops Manager VM</td>
    <td style="color:blue"><code>install-opsman</code> (supported on vSphere)</td>
  </tr><tr>
    <th style="color:blue">2. Configure Who Can Run Ops</th>
    <td style="color:blue">Manually configure internal UAA or external identity provider</td>
    <td style="color:blue"><code>configure-authentication</code> or <code>configure-saml-authentication</code></td>
  </tr><tr>
    <th style="color:blue">3. Configure BOSH</th>
    <td style="color:blue">Manually configure BOSH Director</td>
    <td style="color:blue"><code>configure-director</code> with settings saved from BOSH Director with same version</td>
  </tr><tr>
    <th style="color:blue">4. Add Products</th>
    <td style="color:blue">Click <strong>Import a Product</strong> to upload file, then <strong>+</strong> to add tile to Installation Dashboard</td>
    <td style="color:blue"><code>upload-and-stage-product</code></td>
  </tr><tr>
    <th style="color:blue">5. Configure Products</th>
    <td style="color:blue">Manually configure product tiles</td>
    <td style="color:blue"><code>configure-product</code> with settings saved from tiles with same version</td>
  </tr><tr>
    <th style="color:blue">6. Deploy Products</th>
    <td style="color:blue">Click <strong>Apply Changes</strong></td>
    <td style="color:blue"><code>apply-changes</code></td>
  </tr>
</table>

<table id='TK-NAME' border="1" class="nice" >
  <tr>
    <th></th>
    <th>Ops Manager</th>
    <th>Ops Blocks</th>
  </tr><tr>
    <th>When</th>
    <td>First install and minor upgrades</td>
    <td>Config changes and patch upgrades</td>
  </tr><tr>
    <th style="color:blue">7. Export Complete State</th>
    <td style="color:blue"></td>
    <td style="color:blue"></td>
  </tr>
</table>

<table id='TK-NAME' border="1" class="nice" >
  <tr>
    <th></th>
    <th>Ops Manager</th>
    <th>Ops Blocks</th>
  </tr><tr>
    <th>When</th>
    <td>First install and minor upgrades</td>
    <td>Config changes and patch upgrades</td>
  </tr><tr>
    <th style="color:blue">8. Destroy Ops Manager VM</th>
    <td style="color:blue"></td>
    <td style="color:blue"></td>
  </tr>
</table>


##<a id='integrate'></a> Integrate Non-Portable Settings

###<a id='local'></a> Include Local Parameters

How users need to handle deployment-specific / double-parens properties

###<a id='creds'></a> Include Stored Credentials

How users need to handle CredHub (BOSH and runtime) cred's
What else is in the documentation - e.g. command reference, example script

##<a id='pipeline'></a> Create a Pipeline


###<a id='tasks'></a> Inject Tasks into a Pipeline


###<a id='example'></a> Pipeline Example
